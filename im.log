2021-12-26 14:39:15.510  INFO 10596 --- [main] cc.wanghl.im.ImApplication               : Starting ImApplication using Java 1.8.0_241 on WIN-20200801OJD with PID 10596 (D:\workspace\java\im\target\classes started by Administrator in D:\workspace\java\im)
2021-12-26 14:39:15.518  INFO 10596 --- [main] cc.wanghl.im.ImApplication               : No active profile set, falling back to default profiles: default
2021-12-26 14:39:18.266  INFO 10596 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-12-26 14:39:18.367  INFO 10596 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-26 14:39:18.368  INFO 10596 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-26 14:39:18.647  INFO 10596 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-26 14:39:18.647  INFO 10596 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2704 ms
2021-12-26 14:39:20.047  INFO 10596 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-12-26 14:39:20.082  INFO 10596 --- [main] cc.wanghl.im.ImApplication               : Started ImApplication in 7.291 seconds (JVM running for 11.183)
2021-12-26 14:43:52.625  INFO 10596 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-26 14:43:52.626  INFO 10596 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-26 14:43:52.629  INFO 10596 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-12-26 14:45:52.335  INFO 4288 --- [main] cc.wanghl.im.ImApplication               : Starting ImApplication using Java 1.8.0_241 on WIN-20200801OJD with PID 4288 (D:\workspace\java\im\target\classes started by Administrator in D:\workspace\java\im)
2021-12-26 14:45:52.344 DEBUG 4288 --- [main] cc.wanghl.im.ImApplication               : Running with Spring Boot v2.6.2, Spring v5.3.14
2021-12-26 14:45:52.345  INFO 4288 --- [main] cc.wanghl.im.ImApplication               : No active profile set, falling back to default profiles: default
2021-12-26 14:45:54.317  INFO 4288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-12-26 14:45:54.340  INFO 4288 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-26 14:45:54.341  INFO 4288 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-26 14:45:54.483  INFO 4288 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-26 14:45:54.483  INFO 4288 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1973 ms
2021-12-26 14:45:55.255  INFO 4288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-12-26 14:45:55.272  INFO 4288 --- [main] cc.wanghl.im.ImApplication               : Started ImApplication in 4.57 seconds (JVM running for 7.513)
2021-12-26 14:46:10.374  INFO 4288 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-26 14:46:10.375  INFO 4288 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-26 14:46:10.378  INFO 4288 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-12-26 14:46:10.512 DEBUG 4288 --- [http-nio-8080-exec-1] cc.wanghl.im.ws.web.WSController         : org.apache.tomcat.websocket.WsSession@1d9eb9e6
2021-12-26 15:15:59.952  INFO 11828 --- [main] cc.wanghl.im.ImApplication               : Starting ImApplication using Java 1.8.0_241 on WIN-20200801OJD with PID 11828 (D:\workspace\java\im\target\classes started by Administrator in D:\workspace\java\im)
2021-12-26 15:15:59.959 DEBUG 11828 --- [main] cc.wanghl.im.ImApplication               : Running with Spring Boot v2.6.2, Spring v5.3.14
2021-12-26 15:15:59.961  INFO 11828 --- [main] cc.wanghl.im.ImApplication               : No active profile set, falling back to default profiles: default
2021-12-26 15:16:02.057  INFO 11828 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-12-26 15:16:02.076  INFO 11828 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-26 15:16:02.077  INFO 11828 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-26 15:16:02.191  INFO 11828 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-26 15:16:02.192  INFO 11828 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2086 ms
2021-12-26 15:16:02.832  INFO 11828 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-12-26 15:16:02.851  INFO 11828 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-26 15:16:02.898 ERROR 11828 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to register @ServerEndpoint class: class cc.wanghl.im.ws.web.WSController
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:159) ~[spring-websocket-5.3.14.jar:5.3.14]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoints(ServerEndpointExporter.java:134) ~[spring-websocket-5.3.14.jar:5.3.14]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterSingletonsInstantiated(ServerEndpointExporter.java:112) ~[spring-websocket-5.3.14.jar:5.3.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972) ~[spring-beans-5.3.14.jar:5.3.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.14.jar:5.3.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) [spring-boot-2.6.2.jar:2.6.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.6.2.jar:2.6.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.2.jar:2.6.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.2.jar:2.6.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) [spring-boot-2.6.2.jar:2.6.2]
	at cc.wanghl.im.ImApplication.main(ImApplication.java:10) [classes/:na]
Caused by: javax.websocket.DeploymentException: No decoder was found for message parameters present on the method [onMessage] of class [cc.wanghl.im.ws.web.WSController] that was annotated with OnMessage
	at org.apache.tomcat.websocket.pojo.PojoMethodMapping$MessageHandlerInfo.<init>(PojoMethodMapping.java:517) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.pojo.PojoMethodMapping.<init>(PojoMethodMapping.java:168) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:155) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:279) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:229) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:156) ~[spring-websocket-5.3.14.jar:5.3.14]
	... 12 common frames omitted

2021-12-26 21:01:29.503  INFO 14264 --- [main] cc.wanghl.im.ImApplication               : Starting ImApplication using Java 1.8.0_241 on WIN-20200801OJD with PID 14264 (D:\workspace\java\im\target\classes started by Administrator in D:\workspace\java\im)
2021-12-26 21:01:29.509 DEBUG 14264 --- [main] cc.wanghl.im.ImApplication               : Running with Spring Boot v2.6.2, Spring v5.3.14
2021-12-26 21:01:29.510  INFO 14264 --- [main] cc.wanghl.im.ImApplication               : No active profile set, falling back to default profiles: default
2021-12-26 21:01:31.251  INFO 14264 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-12-26 21:01:31.267  INFO 14264 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-26 21:01:31.267  INFO 14264 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-26 21:01:31.379  INFO 14264 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-26 21:01:31.379  INFO 14264 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1724 ms
2021-12-26 21:01:32.101  INFO 14264 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-12-26 21:01:32.116  INFO 14264 --- [main] cc.wanghl.im.ImApplication               : Started ImApplication in 3.997 seconds (JVM running for 5.972)
2021-12-26 21:04:16.538  INFO 14264 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-26 21:04:16.539  INFO 14264 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-26 21:04:16.541  INFO 14264 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2021-12-26 22:42:26.293 DEBUG 14264 --- [http-nio-8080-exec-2] cc.wanghl.im.ws.web.WSController         : Message{action='a', to='1', data='1243'}
2021-12-26 22:43:10.324 DEBUG 14264 --- [http-nio-8080-exec-3] cc.wanghl.im.ws.web.WSController         : Message{action='a', to='1', data='1243'}
2021-12-26 22:43:25.187  INFO 13272 --- [main] cc.wanghl.im.ImApplication               : Starting ImApplication using Java 1.8.0_241 on WIN-20200801OJD with PID 13272 (D:\workspace\java\im\target\classes started by Administrator in D:\workspace\java\im)
2021-12-26 22:43:25.194 DEBUG 13272 --- [main] cc.wanghl.im.ImApplication               : Running with Spring Boot v2.6.2, Spring v5.3.14
2021-12-26 22:43:25.194  INFO 13272 --- [main] cc.wanghl.im.ImApplication               : No active profile set, falling back to default profiles: default
2021-12-26 22:43:26.918  INFO 13272 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-12-26 22:43:26.935  INFO 13272 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-26 22:43:26.936  INFO 13272 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-26 22:43:27.047  INFO 13272 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-26 22:43:27.047  INFO 13272 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1731 ms
2021-12-26 22:43:27.717  INFO 13272 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-12-26 22:43:27.730  INFO 13272 --- [main] cc.wanghl.im.ImApplication               : Started ImApplication in 3.79 seconds (JVM running for 6.105)
2021-12-26 22:44:56.959  INFO 13272 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-26 22:44:56.966  INFO 13272 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-26 22:44:56.970  INFO 13272 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-12-26 22:44:57.623 DEBUG 13272 --- [http-nio-8080-exec-2] cc.wanghl.im.ws.web.WSController         : Command{action='a', to='1', data='1243'}
